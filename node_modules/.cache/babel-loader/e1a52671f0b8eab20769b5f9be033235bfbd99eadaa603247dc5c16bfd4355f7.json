{"ast":null,"code":"var _jsxFileName = \"/home/karuiru/Frontend Engineer/React Book Projects/Hotel-Review-App/src/context/HotelsContext.js\";\nimport { createContext, useCallback, useReducer } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const HotelsContext = /*#__PURE__*/createContext();\nconst initialState = {\n  hotels: [],\n  hotel: {},\n  loading: true,\n  error: ''\n};\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'GET_HOTELS_SUCCESS':\n      return {\n        ...state,\n        hotels: action.payload,\n        loading: false\n      };\n    case 'GET_HOTELS_ERROR':\n      return {\n        ...state,\n        hotels: [],\n        loading: false,\n        error: action.payload\n      };\n    case 'GET_HOTEL_SUCCESS':\n      return {\n        ...state,\n        hotel: action.payload,\n        loading: false\n      };\n    case 'GET_HOTEL_ERROR':\n      return {\n        ...state,\n        hotel: {},\n        loading: false,\n        error: action.payload\n      };\n    default:\n      return state;\n  }\n};\nexport const HotelsContextProvider = ({\n  children\n}) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const fetchHotels = useCallback(async () => {\n    try {\n      const data = await fetch(`https://my-json-server.typicode.com/PacktPublishing/React-Projects-Second-Edition/hotels`);\n      const result = await data.json();\n      if (result) {\n        dispatch({\n          type: 'GET_HOTELS_SUCCESS',\n          payload: result\n        });\n      }\n    } catch (e) {\n      dispatch({\n        type: 'GET_HOTELS_ERROR',\n        payload: e.message\n      });\n    }\n  }, []);\n  const fetchHotel = useCallback(async hotelId => {\n    try {\n      const data = await fetch(`https://my-json-server.typicode.com/PacktPublishing/React-Projects-Second-Edition/hotels/${hotelId}`);\n      const result = await data.json();\n      if (result) {\n        dispatch({\n          type: 'GET_HOTEL_SUCCESS',\n          payload: result\n        });\n      }\n    } catch (e) {\n      dispatch({\n        type: 'GET_HOTEL_ERROR',\n        payload: e.message\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(HotelsContext.Provider, {\n    value: {\n      ...state,\n      fetchHotels,\n      fetchHotel\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\nexport default HotelsContext;","map":{"version":3,"names":["createContext","useCallback","useReducer","jsxDEV","_jsxDEV","HotelsContext","initialState","hotels","hotel","loading","error","reducer","state","action","type","payload","HotelsContextProvider","children","dispatch","fetchHotels","data","fetch","result","json","e","message","fetchHotel","hotelId","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/home/karuiru/Frontend Engineer/React Book Projects/Hotel-Review-App/src/context/HotelsContext.js"],"sourcesContent":[" import { createContext, useCallback, useReducer } from 'react';\n\nexport const HotelsContext = createContext();\n\nconst initialState = {\n  hotels: [],\n  hotel: {},\n  loading: true,\n  error: '',\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case 'GET_HOTELS_SUCCESS':\n      return {\n        ...state,\n        hotels: action.payload,\n        loading: false,\n      };\n    case 'GET_HOTELS_ERROR':\n      return {\n        ...state,\n        hotels: [],\n        loading: false,\n        error: action.payload,\n      };\n    case 'GET_HOTEL_SUCCESS':\n      return {\n        ...state,\n        hotel: action.payload,\n        loading: false,\n      };\n    case 'GET_HOTEL_ERROR':\n      return {\n        ...state,\n        hotel: {},\n        loading: false,\n        error: action.payload,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const HotelsContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const fetchHotels = useCallback(async () => {\n    try {\n      const data = await fetch(\n        `https://my-json-server.typicode.com/PacktPublishing/React-Projects-Second-Edition/hotels`,\n      );\n      const result = await data.json();\n\n      if (result) {\n        dispatch({ type: 'GET_HOTELS_SUCCESS', payload: result });\n      }\n    } catch (e) {\n      dispatch({ type: 'GET_HOTELS_ERROR', payload: e.message });\n    }\n  }, []);\n\n  const fetchHotel = useCallback(async (hotelId) => {\n    try {\n      const data = await fetch(\n        `https://my-json-server.typicode.com/PacktPublishing/React-Projects-Second-Edition/hotels/${hotelId}`,\n      );\n      const result = await data.json();\n\n      if (result) {\n        dispatch({ type: 'GET_HOTEL_SUCCESS', payload: result });\n      }\n    } catch (e) {\n      dispatch({ type: 'GET_HOTEL_ERROR', payload: e.message });\n    }\n  }, []);\n\n  return (\n    <HotelsContext.Provider value={{ ...state, fetchHotels, fetchHotel }}>\n      {children}\n    </HotelsContext.Provider>\n  );\n};\n\nexport default HotelsContext;\n"],"mappings":";AAAC,SAASA,aAAa,EAAEC,WAAW,EAAEC,UAAU,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhE,OAAO,MAAMC,aAAa,gBAAGL,aAAa,CAAC,CAAC;AAE5C,MAAMM,YAAY,GAAG;EACnBC,MAAM,EAAE,EAAE;EACVC,KAAK,EAAE,CAAC,CAAC;EACTC,OAAO,EAAE,IAAI;EACbC,KAAK,EAAE;AACT,CAAC;AAED,MAAMC,OAAO,GAAGA,CAACC,KAAK,EAAEC,MAAM,KAAK;EACjC,QAAQA,MAAM,CAACC,IAAI;IACjB,KAAK,oBAAoB;MACvB,OAAO;QACL,GAAGF,KAAK;QACRL,MAAM,EAAEM,MAAM,CAACE,OAAO;QACtBN,OAAO,EAAE;MACX,CAAC;IACH,KAAK,kBAAkB;MACrB,OAAO;QACL,GAAGG,KAAK;QACRL,MAAM,EAAE,EAAE;QACVE,OAAO,EAAE,KAAK;QACdC,KAAK,EAAEG,MAAM,CAACE;MAChB,CAAC;IACH,KAAK,mBAAmB;MACtB,OAAO;QACL,GAAGH,KAAK;QACRJ,KAAK,EAAEK,MAAM,CAACE,OAAO;QACrBN,OAAO,EAAE;MACX,CAAC;IACH,KAAK,iBAAiB;MACpB,OAAO;QACL,GAAGG,KAAK;QACRJ,KAAK,EAAE,CAAC,CAAC;QACTC,OAAO,EAAE,KAAK;QACdC,KAAK,EAAEG,MAAM,CAACE;MAChB,CAAC;IACH;MACE,OAAOH,KAAK;EAChB;AACF,CAAC;AAED,OAAO,MAAMI,qBAAqB,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EACrD,MAAM,CAACL,KAAK,EAAEM,QAAQ,CAAC,GAAGhB,UAAU,CAACS,OAAO,EAAEL,YAAY,CAAC;EAE3D,MAAMa,WAAW,GAAGlB,WAAW,CAAC,YAAY;IAC1C,IAAI;MACF,MAAMmB,IAAI,GAAG,MAAMC,KAAK,CACtB,0FACF,CAAC;MACD,MAAMC,MAAM,GAAG,MAAMF,IAAI,CAACG,IAAI,CAAC,CAAC;MAEhC,IAAID,MAAM,EAAE;QACVJ,QAAQ,CAAC;UAAEJ,IAAI,EAAE,oBAAoB;UAAEC,OAAO,EAAEO;QAAO,CAAC,CAAC;MAC3D;IACF,CAAC,CAAC,OAAOE,CAAC,EAAE;MACVN,QAAQ,CAAC;QAAEJ,IAAI,EAAE,kBAAkB;QAAEC,OAAO,EAAES,CAAC,CAACC;MAAQ,CAAC,CAAC;IAC5D;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMC,UAAU,GAAGzB,WAAW,CAAC,MAAO0B,OAAO,IAAK;IAChD,IAAI;MACF,MAAMP,IAAI,GAAG,MAAMC,KAAK,CACtB,4FAA4FM,OAAO,EACrG,CAAC;MACD,MAAML,MAAM,GAAG,MAAMF,IAAI,CAACG,IAAI,CAAC,CAAC;MAEhC,IAAID,MAAM,EAAE;QACVJ,QAAQ,CAAC;UAAEJ,IAAI,EAAE,mBAAmB;UAAEC,OAAO,EAAEO;QAAO,CAAC,CAAC;MAC1D;IACF,CAAC,CAAC,OAAOE,CAAC,EAAE;MACVN,QAAQ,CAAC;QAAEJ,IAAI,EAAE,iBAAiB;QAAEC,OAAO,EAAES,CAAC,CAACC;MAAQ,CAAC,CAAC;IAC3D;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,oBACErB,OAAA,CAACC,aAAa,CAACuB,QAAQ;IAACC,KAAK,EAAE;MAAE,GAAGjB,KAAK;MAAEO,WAAW;MAAEO;IAAW,CAAE;IAAAT,QAAA,EAClEA;EAAQ;IAAAa,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACa,CAAC;AAE7B,CAAC;AAED,eAAe5B,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}